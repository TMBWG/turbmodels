<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xml:lang="en" lang="en">
<HEAD>
<TITLE>Grids - 3D Hemisphere Cylinder for Turbulence Model Numerical Analysis</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<script language="JavaScript">
<!--
function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function MM_findObj(n, d) { //v4.01
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && d.getElementById) x=d.getElementById(n); return x;
}
//-->
</script>

</HEAD>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B"
alink="#FF0000">
<p><a href="#main-content"><img src="spacer.gif" width="0" height="0" border="0" alt="skip to content" /></a></p>
<style>
    * {
      font-family: helvetica,arial,sans-serif;
    }
</style>
<a id="main-content"></a>
<p>
   <center>
     <table width="775" border="0">
       <tr>


         <td>
         <p><h2 style="text-align: left"><strong>
              Public Access (formerly Langley Research Center)</strong></h2></p>
         <p><h1 style="text-align: left"><strong>
              Turbulence Modeling Resource</strong></h1></p>
         </td>
       </tr>
     </table>

<!--<img border=0 src="construction.gif" title="under construction" alt="under construction">
This page under construction... Come back later!-->

   </center>

<br>&nbsp;
<p><p><span style="text-align: left; font-weight: 400; font-size: medium">
Return to: <a href="hc3dnumerics_val.html">Numerical Analysis of 3D Hemisphere Cylinder Validation Case Intro Page</a></p>
<p>Return to: <a href="index.html">Turbulence Modeling Resource Home Page</a></p>
<br>&nbsp;
<p><strong><span style="text-align: left; font-weight: 700; font-size: x-large">TURBULENCE MODEL NUMERICAL ANALYSIS</strong>
<p><strong><span style="text-align: left; font-weight: 700; font-size: x-large">Grids -
	    3D Hemisphere Cylinder </strong>

<p><span style="text-align: left; font-weight: 400; font-size: medium">The methodology to create
	a series of grids is provided.  Both structured and
	unstructured grids are provided (unlike most others on the Turbulence Modeling Resource website,
        they are completely independent of one another).
        The coordinate system is defined with x streamwise, y horizontal, and
	z vertical.

<p><strong><span style="text-align: left; font-weight: 700; font-size: large">STRUCTURED VERSIONS OF GRIDS</strong>

<p> 
For the structured grids,
each grid is a PLOT3D unformatted file of size ni x nj x nk, where
ni is
the number of points along the body, nj
        is the number of points in the normal direction, and nk is
        the number of points in the circumferential direction.  
The grids range from 161 x 289 x 129 (finest half-plane grid) to 6 x 10
        x 5 (coarsest half-plane grid). The constructed grids are not
	necessarily nested grids but coarser grids can be constructed
	by extracting every-other-point in all directions (i.e.,
	regular refinement).  
The farfield boundaries are located approximately 20 unit lengths from the body.
<!--(A capability to construct a nested
	family of structured grids with prolongation and
	  restriction operators constructed using the grid mapping 
          is available by preprocessing utilities within FUN3D.)-->
<p> 




The figure below shows a view of the level 4 structured half-plane grid of size ni=21 x nj=37 x nk=17 in
	the streamwise x normal x circumferential directions.

     <table width="675" border="0">
     <center>
       <tr align="center" valign="bottom">

        <p><img
src="HCnumerics_grids/grid4_3d.png" border="1" width="790" title="view of 21x37x17 structured half-plane grid" alt="view of 21x37x17 structured half-plane grid">

<p> 



<!--
The figure below shows a view of the unstructured grid in the nose region
 for the 1M node grid.

     <table width="675" border="0">
     <center>
       <tr align="center" valign="bottom">

        <p><img
src="HCnumerics_grids/hc3d1M_grid.png" border="1" width="790" title="">
</p>
</p>
           </td>

       </tr>
     </center>
     </table>
-->

<p>Note: be sure to use <u>double precision</u> when reading (or writing) the grids!

<p><strong><span style="text-align: left; font-weight: 700; font-size: large">PLOT3D Files</strong>

<p>A <a href="HCnumerics_grids/hc_tmr.f90">FORTRAN program for structured grids</a>  
is provided that can be used to generate the structured grids in PLOT3D format.  All information has been hardwired 
into the program except three integer inputs. 

<p><ul>The first input is integer, between 1 and 6 indicating the level of the
	  grid to be generated (finest to coarsest).  

<p>The second input is integer, 
between 0 and 2 and indicates the type of grid to be generated (0 is inviscid, 1 is laminar, and 2 is turbulent).
Use "2".

<p>The third input is integer, between 1 and 2 and indicates the type of grid to be generated (1 is 2D, 2 is 3D with symmetry in y,
3 (which does not work correctly) is 3D without symmetry in y).  Use "2" to create a 3-D half-plane grid like that shown in the first figure above.
</ul>

<p>The half-plane grid sizes are as follows:
<ul>
<li>161 x 289 x 129... 5,898,240 cells (or 11,796,480 cells in the equivalent 360 degree grid)
<li> 81 x 145 x  65...   737,280 cells (or  1,474,560 cells in the equivalent 360 degree grid)
<li> 41 x  73 x  33...    92,160 cells (or    184,320 cells in the equivalent 360 degree grid)
<li> 21 x  37 x  17...    11,520 cells (or     23,040 cells in the equivalent 360 degree grid)
<li> 11 x  19 x   9...     1,440 cells (or      2,880 cells in the equivalent 360 degree grid)
<li>  6 x  10 x   5...       180 cells (or        360 cells in the equivalent 360 degree grid)
</ul>

<p>Neutral Map Files 
associated with each grid are also generated by the above program (these files specify grid indices associated
with each boundary condition - see 
<a href="nmf_documentation.html" target="_blank">The Neutral Map File</a>).  The following is
an example neutral map file:
<ul>
<li><a href="HCnumerics_grids/grid4_3d.nmf">
        Neutral Map File for (3-D with symmetry) 21 x 37 x 17 </a>


</ul>

<br>&nbsp;
<p><strong><span style="text-align: left; font-weight: 700; font-size: large">UNSTRUCTURED VERSIONS OF GRIDS</strong>

<p>The unstructured grids are created independently of the structured grids.  In these grids,
the farfield boundaries are located approximately 10 unilt lengths from the body.
A picture of the unstructured mixed-element prisms/hexes grid is shown in the figure below.

     <table width="675" border="0">
     <center>
       <tr align="center" valign="bottom">

        <p><img
src="HCnumerics_grids/view-of-HC.png" border="1" width="790" title="view of unstructured prisms/hexes grid" alt="view of unstructured prisms/hexes grid">
</p>
           </td>

       </tr>
     </center>
     </table>

<p><strong><span style="text-align: left; font-weight: 700; font-size: large">UGRID Files</strong>

<p>A <a href="HCnumerics_grids/hemisphere_cylinder_grid_v25hexyp_rans.f90">FORTRAN program for unstructured grids</a>  
(<u>modified on 10/07/2015, only a minor bug compared to V24 from 10/02</u>)
is provided that can be used to generate unstructured grids in UGRID format.  All information has been hardwired 
into the program except 8 inputs.
The input values to generate the finest mixed prisms/hexes grid are given in 
<a href="HCnumerics_grids/hemisphere_cylinder_finest.inp">hemisphere_cylinder_finest.inp</a>.
Below is a description of input parameters with the finest-grid value in parenthesis:

       <ul>
           <li>1. Positive double, target Reynolds number: (3.5E5)
           <li>2. Positive double, target y_plus: (0.5)
           <li>3. Integer, 1,2,3, or 4, grid type: 1 - prisms, 2 - tetrahedral, 3- mixed, prisms/tets, 4 - mixed, prism/hexes (4)
           <li>4. Logical, output format: T -.b8.ugrid format, F - ASCII format (T)
           <li>5. Positive double, distance to the outer boundary: (10.0)
           <li>6. Integer, number of nodes along the cylinder: (800)
           <li>7. Positive double, length of the hemisphere-cylinder: (10.0)
           <li>8. Integer, division of the generating sector: (160)
       </ul>

<br>&nbsp;
<br>&nbsp;
<p><p><span style="text-align: left; font-weight: 400; font-size: medium">
Return to: <a href="hc3dnumerics_val.html">Numerical Analysis of 3D Hemisphere Cylinder Validation Case Intro Page</a></p>
<p>Return to: <a href="index.html">Turbulence Modeling Resource Home Page</a></p>
<br>&nbsp;

<br>&nbsp;
<p>
<hr WIDTH="100%">
<p style="font-family: helvetica,arial,sans-serif;">Recent significant updates:<br>
01/27/2017 - removed link to coarser versions of UGRID files<br>


<p align="right" style="font-family: helvetica,arial,sans-serif;"> <br>
<strong>Page Curators:</strong> <a href="mailto:c.l.rumsey@nasa.gov">Christopher Rumsey</a>,
  <a href="mailto:ethan.a.vogel@nasa.gov">Ethan Vogel</a>,
  <a href="mailto:clark.c.pederson@nasa.gov">Clark Pederson</a> <br>
<strong>Last Updated:</strong> 05/13/2019
<br>&nbsp;

</body>
</html>
