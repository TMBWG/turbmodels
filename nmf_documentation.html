<html><head>
<!--
<meta http-equiv="content-type" content="text/html; charset=UTF-8"></head><body alt="Gray background tile used for layout" alink="#99CCFF" background="V2KDocumentation_files/nasatitle.gif" bgcolor="#FFFFFF" link="#000099" text="#000000" vlink="#003366">
-->


   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="pragma" content="no-cache">
   <meta name="GENERATOR" content="Mozilla/4.75C-SGI [en] (X11; U; IRIX64 6.5 IP27) [Netscape]">
   <meta name="Author" content="William T. Jones">
   <meta name="Description" content="The Neutral Map File">
   <title>The Neutral Map File</title>


<!--
&nbsp;
<table cellpadding="0" cellspacing="0" border="0" width="600">
<tbody><tr valign="TOP">
<td align="CENTER" width="600">
<table cellpadding="0" cellspacing="0" border="0" width="590">
<tbody><tr valign="TOP">
<td width="140">
<table cellpadding="0" cellspacing="0" border="0" width="140">
<tbody><tr valign="TOP">
<td align="CENTER" width="140"><a href="http://www.nasa.gov/"><img src="V2KDocumentation_files/hotnasa.gif" alt="Animated NASA logo in which the orbit element circles the word NASA. Clicking on this graphic takes you to the NASA Home page, http://www.nasa.gov." align="MIDDLE" border="0" height="63" width="73"></a></td>
</tr>
</tbody></table>
</td>
-->

<td align="RIGHT" width="450">
<table cellpadding="0" cellspacing="0" border="0" width="450">
<tbody><tr valign="TOP">
<td width="30">&nbsp;</td>
<!--<td align="LEFT" width="420"><img src="V2KDocumentation_files/v2k.gif" alt="Image says 'V2K'." border="0"></td>-->
</tr>
</tbody></table>
</td>
</tr>
</tbody></table>

<table border="0" width="600">
<tbody><tr>
<td width="100%"><img src="V2KDocumentation_files/clrspc.gif" alt="This is a rainbow colored horizontal rule." align="RIGHT" height="5" width="420"></td>
</tr>
</tbody></table>
</td>
</tr>
</tbody></table>

<!--
<table nosave="" cellpadding="0" cellspacing="0" border="0" width="600">
<tbody><tr nosave="" valign="TOP">
<td nosave="" align="CENTER" width="160">
<table nosave="" border="0" width="140">
<tbody><tr nosave="" valign="TOP">
<td nosave="" align="LEFT" width="140"><b><font face="Helvetica, Arial"><font color="#000000"><font size="-1">Table of Contents</font></font></font></b>
<table nosave="" border="0">

<tbody><tr valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/index.htm">Introduction</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/features.htm">Software Features</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/execution.htm">Software Execution</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/fileIO.htm">File I/O</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/graphicalinteraction.htm">Graphical Interaction</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/menubar.htm">The Main Menu Bar</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/tasks.htm">The Tasks Panel</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/planes.htm">Mesh Visualization</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/quality.htm">Mesh Interrogation</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/solvers.htm">Mesh Modification</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/tog.htm">Topological Feature Identification</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/bc.htm">Boundary Condition Assignment</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/nmf.htm">The Neutral Map File</a>
</font></font></td>
</tr>

<tr nosave="" valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/Volume/Doc/contact.htm">Contact Information</a>
</font></font></td>
</tr>

</tbody></table>
-->

<!--
<hr align="left" size="5" width="130"><b><font face="Helvetica, Arial"><font size="-1"><font color="#000000">More About NASA:</font></font></font></b><font face="Helvetica, Arial">
<table nosave="">

<tbody><tr nosave="" valign="TOP">
<td nosave="" width="99%"><font face="Helvetica, Arial"><font size="-1">
<a href="http://geolab.larc.nasa.gov/">GEOLAB</a>
</font></font></td>
</tr>

<tr valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://www.larc.nasa.gov/">LaRC Home</a>
</font></font></td>
</tr>

<tr valign="TOP">
<td><font face="Helvetica, Arial"><font size="-1">
<a href="http://www.nasa.gov/">NASA Home</a>
</font></font></td>
</tr>
</tbody></table>
</font></td>
</tr>
</tbody></table>
</td>
-->

<!--
<td align="LEFT" width="30">
<img src="V2KDocumentation_files/clrspc.gif" alt="Empty Space" height="440" width="30">
</td>
-->

<td nosave="" width="440">
<table nosave="" cellpadding="0" cellspacing="0" border="0" width="440">
<tbody><tr nosave="" valign="TOP">
<td nosave="" align="LEFT" width="250">

<h2><font color="#000066">The Neutral Map File</font></h2>

<p><font face="Times New Roman,Times"><font size="+1" color="red">
This page is a copy from an original GEOLAB (NASA) webpage that has since gone offline.
It provides documentation about the "neutral map file" (*.nmf) which provides boundary condition
and connectivity information for multi-block structured grids.
The original documentation was written by William T. Jones of NASA Langley.
"V2K" refers to the original GEOLAB program that made use of the neutral map file; references
to V2K on this page can be ignored.
</font>

<p><font face="Times New Roman,Times"><font size="+1" color="black">
The neutral map file provides a formatted summary of information relating to
</font></font></p><blockquote><font face="Times New Roman,Times"><font size="+1">
<li>the size and composition of the mesh,</li>
<li>topological features of the mesh and </li>
<li>assigned flow field boundary conditions</li>
</font></font></blockquote><font face="Times New Roman,Times"><font size="+1">
which is typically required of any multi-block flow solver.
The formatting of this file is "neutral" in that it is not specific to any particular
flow solver, thus a reformatting of the data will be required before use.
<p>
To serve as an example, a neutral map file for a simply-connected four block mesh is listed below.
The specifics of the configuration are not important here as the goal of this description is
to give an idea of the typical content and organization of such a file.</p><p>

The file consists of two sections; the first defines the size (in blocks) of the mesh as well as
the size of each block within the mesh,
and the second section defines the topological features of the mesh which may involve
</p><blockquote>
<li>point continuous block interfaces,</li>
<li>singularities and/or</li>
<li>patched interfaces.</li>
</blockquote>
Also included in the summary are any flow field boundary conditions which have been placed by the
user.
<pre><font face="Courier"><font color="BLUE">
# ===== Neutral Map File generated by the V2k software of NASA Langley's GEOLAB =====
# ===================================================================================
# Block#   IDIM   JDIM   KDIM
# -----------------------------------------------------------------------------------
       4

       1     47     26     33
       2     19     26     33
       3     19     24     33
       4     47     24     33

# ===================================================================================
# Type         B1  F1     S1   E1     S2   E2    B2  F2     S1   E1     S2   E2  Swap
# -----------------------------------------------------------------------------------
WALL            1   1      1   47      1   26
WALL            1   2      1   47      1   26
ONE_TO_ONE      1   3      1   26      1   33     2   4      1   26      1   33  FALSE
outflow         1   4      1   26      1   33
ONE_TO_ONE      1   5      1   33      1   47     4   6      1   33      1   47  FALSE
WALL            1   6      1   33      1   47
WALL            2   1      1   19      1   26
WALL            2   2      1   19      1   26
Inflow          2   3      1   26      1   33
ONE_TO_ONE      2   5      1   33      1   19     3   6      1   33      1   19  FALSE
WALL            2   6      1   33      1   19
WALL            3   1      1   19      1   24
WALL            3   2      1   19      1   24
Inflow          3   3      1   24      1   33
ONE_TO_ONE      3   4      1   24      1   33     4   3      1   24      1   33  FALSE
WALL            3   5      1   33      1   19
WALL            4   1      1   47      1   24
WALL            4   2      1   47      1   24
outflow         4   4      1   24      1   33
WALL            4   5      1   33      1   47
</font></font></pre><font face="Courier"><font color="BLUE">
</font></font>
<p>
Associated with each topological entry and boundary condition is a description
as to its location within the mesh.
Each of the entries in the second section of this file are defined in detail within the table below.
<br>&nbsp;
<a ID="SectionTwo"></a>
</p><center><table cols="2" nosave="" bgcolor="#CCCCCC" border="" width="80%">
<caption><font face="Arial,Helvetica"><font size="+1"><u>Topological Feature Description</u></font></font></caption>
<tbody><tr>
<td width="10%"><center><b><u>Entry</u></b></center></td>
<td><center><b><u>Definition</u></b></center></td>
</tr>

<tr>
<td><center>Type</center></td>
<td>The type of featured (topological or boundary condition) to be defined and positioned within the mesh.
Valid entries for <i>Type</i> are summarized in the table below.</td>
</tr>
<tr><td><center>B1</center></td><td>The number of the first block associated with the <i>Type</i>.</td></tr>
<tr><td><center>F1</center></td><td>The face number for the specified block.
Valid entries for <i>Face</i> are summarized in the table below.</td>
</tr>
<tr><td><center>S1</center></td><td>The starting index in the primary coordinate direction for the face.</td></tr>
<tr><td><center>E1</center></td><td>The ending index in the primary coordinate direction for the face.</td></tr>
<tr><td><center>S2</center></td><td>The starting index in the secondary coordinate direction for the face.</td></tr>
<tr><td><center>E2</center></td><td>The ending index in the secondary coordinate direction for the face.</td></tr>

<tr><td><center>B2</center></td><td>The second block number associated with the <i>Type</i>.</td></tr>
<tr><td><center>F2</center></td><td>The face number for the specified block.</td></tr>
<tr><td><center>Swap</center></td><td>Orientation flag (specified only for <i>Type = ONE_TO_ONE</i>.
This flag is <i>FALSE</i> if the primary directions of the two identified faces are aligned (though perhaps in opposite directions) and <i>TRUE</i> otherwise.</td></tr>
</tbody></table></center>
<br>&nbsp;The valid entries under the <i>Type</i> heading are as given in the table below.

<br>&nbsp;
<a ID="InterfaceTypes"></a>
<center><table cols="2" nosave="" bgcolor="#CCCCCC" border="" width="80%">
<caption><font face="Arial,Helvetica"><font size="+1"><u>Summary of Valid Interface Types</u></font></font></caption>
<tbody><tr>
<td width="5%"><center><b><u>Type Name</u></b></center></td>
<td><center><b><u>Definition</u></b></center></td>
</tr>
<tr><td><center>Collapsed</center></td><td>Face collapsed to a single point (<i>V2K</i> will not
detect this kind of interface automatically; it must be user defined via direct editing of the neutral map file).</td></tr>
<tr><td><center>ONE_TO_ONE</center></td><td>A point-to-point continuous 
interface between two blocks the valid index range for which is 
described as listed above. Such an interface may comprise any portion of
 the block face.
This type also requires the specification of a secondary block, face and
 indices describing the complete connectivity.
<i>V2K</i> provides facilities to detect this type of interface automatically.</td></tr>
<tr><td><center>Patched</center></td><td>A block interface for which point-to-point continuity does not exist
though flux transport ocurrs across the identified face. <i>V2K</i> provides facilities
 to identify this type
of interface which is described similarly to the ONE_TO_ONE interface type. The exception is that the 
full index range of both counterparts are listed and it is left to the flow solver to define the
appropriate index range and interpolation parameters.</td></tr>
<tr><td><center>POLE_DIR1</center></td><td>Describes a singularity within a block for which the collapsed edge
corresponds to the primary direction of the face.<i>V2K</i> provides facilities to detect this type of interface automatically.</td></tr>
<tr><td><center>POLE_DIR2</center></td><td>Describes a singularity within a block for which the collapsed edge
corresponds to the secondary direction of the face.<i>V2K</i> provides facilities to detect this type of interface automatically.</td></tr>
<tr><td><center>Symmetry-X</center></td><td>A flow field boundary condition which is to provide for symmetry
in the x-direction.</td></tr>
<tr><td><center>Symmetry-Y</center></td><td>A flow field boundary condition which is to provide for symmetry
in the y-direction.</td></tr>
<tr><td><center>Symmetry-Z</center></td><td>A flow field boundary condition which is to provide for symmetry
in the z-direction.</td></tr>
<tr><td><center>UNPROCESSED</center></td><td>A block boundary or portion thereof for which no <i>Type</i>
assignment has been made.  An initial neutral map file will be composed only of this type and a completed
(and valid) neutral map file will have none of this type.</td></tr>
<tr><td><center>WALL</center></td><td>A solid wall boundary condition whose actual interpretation (slip
or no-slip) will depend upon the type of flow solver to be employed.</td></tr>
</tbody></table></center>
<br>Note that additional boundary conditions may be user defined.<p>

Lastly, the face number specification
identifies a particular face within a block whose position is dependent upon the local coordinate
system employed within that block. This relationship is summarized in the table below.

<br>&nbsp;
</p><center><table cols="4" nosave="" bgcolor="#CCCCCC" border="" width="80%">
<caption><font face="Arial,Helvetica"><font size="+1"><u>Block Face Identification</u></font></font></caption>
<tbody><tr>
<td width="10%"><center><b><u>Face Number</u></b></center></td>
<td><center><b><u>constant index</u></b></center></td>
<td><center><b><u>primary coordinate</u></b></center></td>
<td><center><b><u>secondary coordinate</u></b></center></td>
</tr>
<tr><td><center>1</center></td><td><center>k<font size="-2">min</font></center></td>
<td><center>i</center></td><td><center>j</center></td></tr>
<tr><td><center>2</center></td><td><center>k<font size="-2">max</font></center></td>
<td><center>i</center></td><td><center>j</center></td></tr>
<tr><td><center>3</center></td><td><center>i<font size="-2">min</font></center></td>
<td><center>j</center></td><td><center>k</center></td></tr>
<tr><td><center>4</center></td><td><center>i<font size="-2">max</font></center></td>
<td><center>j</center></td><td><center>k</center></td></tr>
<tr><td><center>5</center></td><td><center>j<font size="-2">min</font></center></td>
<td><center>k</center></td><td><center>i</center></td></tr>
<tr><td><center>6</center></td><td><center>j<font size="-2">max</font></center></td>
<td><center>k</center></td><td><center>i</center></td></tr>
</tbody></table></center>
<!--<br>Other than for the meaning attached to each of the flow field boundary condition types,
the user need not be overly
concerned with the mechanics of constructing the neutral map file as the software does this essentially
automatically. In the event that the user must make alterations or additions to this file via a text
editor, careful attention to the definitions provided is in order.
-->

</font></font></td>
</tr>
</tbody></table>

<center><hr></center>


<p align="right" style="font-family: helvetica,arial,sans-serif;"> <br>
<strong>Page Curators:</strong> <a href="mailto:c.l.rumsey@nasa.gov">Christopher Rumsey</a>,
  <a href="mailto:ethan.a.vogel@nasa.gov">Ethan Vogel</a>,
  <a href="mailto:clark.c.pederson@nasa.gov">Clark Pederson</a> <br>
<strong>Last Updated:</strong> 05/13/2019
<br>&nbsp;

</body>
</html>
